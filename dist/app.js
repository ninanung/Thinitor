!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Thinitor=t():e.Thinitor=t()}(self,(function(){return(()=>{"use strict";var e={768:function(e,t,n){var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],l=0,s=i.length;l<s;l++,o++)r[o]=i[l];return r};Object.defineProperty(t,"__esModule",{value:!0});var o=n(116),i=n(555),l=n(920),s=n(55),a=function(){function e(e){this.classes=[];var t=document.getElementById(e);if(t){this.rootElement=t,this.element=t;var n=new s.default(i.generateRandomString());this.element.appendChild(n.getElement()),this.classes=r(this.classes,[n]),o.listenEnterKeyInTheRoot(this),o.listenBackspaceKeyInTheRoot(this)}else l.logError("Can't find the element has \""+e+'" id.')}return e.prototype.addNewChild=function(e){var t,n=document.activeElement;if(this.classes.forEach((function(e,r){e.getElementId()===n.id&&(t=r)})),t+1===this.classes.length)return this.element.appendChild(e.getElement()),this.classes=r(this.classes,[e]),void document.getElementById(e.getElementId()).focus();i.insertAfter(this.element,e.getElement(),n),this.classes.splice(t,0,e),document.getElementById(e.getElementId()).focus()},e.prototype.removeChild=function(e){var t;this.classes.forEach((function(n,r){n.getElementId()===e.id&&(t=r)})),document.getElementById(e.previousElementSibling.id).focus(),this.classes.splice(t,1),e.remove()},e.prototype.getRootElement=function(){return this.rootElement},e.prototype.getClasses=function(){return this.classes},e.prototype.getHtml=function(){return this.element.innerHTML},e.prototype.getElement=function(){return this.element},e}();t.default=a},55:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=n(790),o=n(920),i=n(427),l=function(){function e(e,t){void 0===t&&(t=""),e?(this.id=e,this.element=r.createElement(e,"p"),this.element.innerHTML=t,i.listenArrowKeyInTheText(this)):o.logError("Fail to create element, id is missing.")}return e.prototype.getElement=function(){return this.element},e.prototype.getElementId=function(){return this.id},e}();t.default=l},601:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default={ERROR_PREFIX:"Thinitor Error | "}},607:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=n(768);t.default=r.default},790:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createElement=void 0;var r=n(920);t.createElement=function(e,t){e&&t||r.logUndefinedParameter("createElement");var n=document.createElement(t);return n.contentEditable="true",n.id=e,n}},116:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.listenBackspaceKeyInTheRoot=t.listenEnterKeyInTheRoot=void 0;var r=n(555),o=n(442),i=n(55);t.listenEnterKeyInTheRoot=function(e){e.getElement().addEventListener("keydown",(function(t){if("Enter"===t.key){var n=document.activeElement;if(r.checkIsChildElement(n)){o.getCaretPosition(n);var l=n.innerHTML,s=n.textContent;console.log(o.getDeferentHtmlString(l,s)),t.preventDefault();var a=r.generateRandomString(),d=new i.default(a);e.addNewChild(d)}}}))},t.listenBackspaceKeyInTheRoot=function(e){e.getElement().addEventListener("keydown",(function(t){if("Backspace"===t.key){var n=document.activeElement;if(r.checkIsChildElement(n)){var i=n.previousElementSibling;n.innerHTML.length<1&&i&&(t.preventDefault(),e.removeChild(n),o.setCaretToEnd(i))}}}))}},427:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.listenArrowKeyInTheText=void 0;var r=n(442);t.listenArrowKeyInTheText=function(e){e.getElement().addEventListener("keydown",(function(t){if("ArrowUp"===t.key){var n=document.getElementById(e.getElementId()).previousElementSibling;if(!n)return;t.preventDefault(),r.setCaretToEnd(n)}if("ArrowDown"===t.key){var o=document.getElementById(e.getElementId()).nextElementSibling;if(!o)return;t.preventDefault(),r.setCaretToEnd(o)}}))}},442:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getDeferentHtmlString=t.setCaretToEnd=t.getCaretPosition=void 0,t.getCaretPosition=function(e){var t=0,n=null,r=null;return window.getSelection&&(n=window.getSelection()).rangeCount&&(r=n.getRangeAt(0)).commonAncestorContainer.parentNode==e&&(t=r.endOffset),t},t.setCaretToEnd=function(e){var t=document.createRange();t.selectNodeContents(e),t.collapse(!1);var n=window.getSelection();n.removeAllRanges(),n.addRange(t)},t.getDeferentHtmlString=function(e,t){for(var n=0;n<e.length;n++)e[n]!==t[n]&&console.log(e[n],t[n]);return{stringArray:[],indexArray:[]}}},555:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.checkIsChildElement=t.getElementIndex=t.insertAfter=t.generateRandomString=void 0,t.generateRandomString=function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<15;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return"thinitor_element_"+e},t.insertAfter=function(e,t,n){e.insertBefore(t,n.nextSibling)},t.getElementIndex=function(e,t){for(var n,r=e.parentElement.children,o=0;o<r.length;o++)if(r[o].id===t){n=o;break}return n},t.checkIsChildElement=function(e){return e.id.includes("thinitor_element_")}},920:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.logUndefinedParameter=t.logError=void 0;var r=n(601);t.logError=function(e){console.error(""+r.default.ERROR_PREFIX+e)},t.logUndefinedParameter=function(e){console.error(r.default.ERROR_PREFIX+"Missing parameter. function: "+e)}}},t={};return function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}(607)})()}));
//# sourceMappingURL=app.js.map