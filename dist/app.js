!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Thinitor=t():e.Thinitor=t()}(self,(function(){return(()=>{"use strict";var e={768:function(e,t,n){var o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var i=arguments[t],l=0,s=i.length;l<s;l++,r++)o[r]=i[l];return o};Object.defineProperty(t,"__esModule",{value:!0});var r=n(116),i=n(555),l=n(903),s=n(55),d=function(){function e(e){this.classes=[];var t=document.getElementById(e);if(t){this.rootElement=t,this.element=t;var n=new s.default(i.generateRandomString());this.element.appendChild(n.getElement()),this.classes=o(this.classes,[n]),r.listenEnterKeyInTheRoot(this),r.listenBackspaceKeyInTheRoot(this),r.listenArrowKeyInTheRoot(this)}else l.logError("Can't find the element has \""+e+'" id.')}return e.prototype.addNewChild=function(e){var t,n=document.activeElement;if(this.classes.forEach((function(e,o){e.getElementId()===n.id&&(t=o)})),t+1===this.classes.length)return this.element.appendChild(e.getElement()),this.classes=o(this.classes,[e]),void document.getElementById(e.getElementId()).focus();i.insertAfter(this.element,e.getElement(),n),this.classes.splice(t,0,e),document.getElementById(e.getElementId()).focus()},e.prototype.removeChild=function(e){var t;this.classes.forEach((function(n,o){n.getElementId()===e.id&&(t=o)})),document.getElementById(e.previousElementSibling.id).focus(),this.classes.splice(t,1),e.remove()},e.prototype.getRootElement=function(){return this.rootElement},e.prototype.getClasses=function(){return this.classes},e.prototype.getHtml=function(){return this.element.innerHTML},e.prototype.getElement=function(){return this.element},e}();t.default=d},55:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var o=n(790),r=n(903),i=function(){function e(e){e?(this.id=e,this.element=o.createElement(e,"p")):r.logError("Fail to create element, id is missing.")}return e.prototype.getElement=function(){return this.element},e.prototype.getElementId=function(){return this.id},e}();t.default=i},601:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default={ERROR_PREFIX:"Thinitor Error | "}},607:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var o=n(768);t.default=o.default},790:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createElement=void 0;var o=n(903);t.createElement=function(e,t){e&&t||o.logUndefinedParameter("createElement");var n=document.createElement(t);return n.contentEditable="true",n.id=e,n}},116:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.listenArrowKeyInTheRoot=t.listenBackspaceKeyInTheRoot=t.listenEnterKeyInTheRoot=void 0;var o=n(555),r=n(55);t.listenEnterKeyInTheRoot=function(e){e.getElement().addEventListener("keydown",(function(t){if("Enter"===t.key&&o.checkIsChildElement(document.activeElement)){t.preventDefault();var n=o.generateRandomString(),i=new r.default(n);e.addNewChild(i)}}))},t.listenBackspaceKeyInTheRoot=function(e){e.getElement().addEventListener("keydown",(function(t){if("Backspace"===t.key){var n=document.activeElement;o.checkIsChildElement(n)&&n.innerHTML.length<1&&n.previousElementSibling&&(t.preventDefault(),e.removeChild(n))}}))},t.listenArrowKeyInTheRoot=function(e){e.getElement().addEventListener("keyup",(function(e){if("ArrowUp"!==e.key)if("ArrowDown"!==e.key);else{var t=document.activeElement.nextElementSibling;t&&(i=document.createRange(),(o=t.childNodes[t.childNodes.length-1])&&o.nodeValue&&o.nodeValue.length>0?(i.setStart(o,o.nodeValue.length),i.collapse(!0),(r=document.getSelection()).removeAllRanges(),r.addRange(i)):document.getElementById(t.id).focus())}else{var n=document.activeElement.previousElementSibling;if(n){var o,r,i=document.createRange();(o=n.childNodes[n.childNodes.length-1])&&o.nodeValue&&o.nodeValue.length>0?(i.setStart(o,o.nodeValue.length),i.collapse(!0),(r=document.getSelection()).removeAllRanges(),r.addRange(i)):document.getElementById(n.id).focus()}}}))}},555:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.checkIsChildElement=t.getElementIndex=t.insertAfter=t.generateRandomString=void 0,t.generateRandomString=function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<15;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return"thinitor_element_"+e},t.insertAfter=function(e,t,n){e.insertBefore(t,n.nextSibling)},t.getElementIndex=function(e,t){for(var n,o=e.parentElement.children,r=0;r<o.length;r++)if(o[r].id===t){n=r;break}return n},t.checkIsChildElement=function(e){return e.id.includes("thinitor_element_")}},903:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.logUndefinedParameter=t.logError=void 0;var o=n(601);t.logError=function(e){console.error(""+o.default.ERROR_PREFIX+e)},t.logUndefinedParameter=function(e){console.error(o.default.ERROR_PREFIX+"Missing parameter. function: "+e)}}},t={};return function n(o){if(t[o])return t[o].exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,n),r.exports}(607)})()}));
//# sourceMappingURL=app.js.map